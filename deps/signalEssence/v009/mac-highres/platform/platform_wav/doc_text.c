
/******************************************************

This file autogenerated by markdown2c.py from input file (doc_text.markdown)

Signal Essence 2016

******************************************************/
char html_array[]=
"<h1>wavtool</h1>\n"
"\n"
"<h2>NAME</h2>\n"
"\n"
"<p><b>wav</b> - command-line interface to MMFx for processing audio files</p>\n"
"\n"
"<p>The wavtool is an off-line version of the MMFx algorithm; it processes audio input files through MMFx and produces send-side and receive-side outputs (sout and rout, respectively).</p>\n"
"\n"
"<h2>BASIC USAGE</h2>\n"
"\n"
"<ul>\n"
"<li><p>Print a description of all options</p>\n"
"\n"
"<pre><code>wav -?\n"
"</code></pre></li>\n"
"<li><p>Process <strong>rin.wav</strong> channel <strong>3</strong> as <code>rin</code>, write output to <strong>rout.wav</strong>.</p>\n"
"\n"
"<pre><code>wav --rin=rin.wav:3 --rout=rout.wav\n"
"</code></pre>\n"
"\n"
"<p><strong>Input wav files</strong> must have the same sample rate as expected by your MMFx configuration (this varies by customer); samples \n"
"must be represented by 16-bit integers. When MMFx reads an N-channel signal (e.g. <code>sin</code> is 8 microphone inputs), then the wav file must have at least 8\n"
"channels; specify the starting channel as <code>filename.wav:start-channel</code>, e.g. <code>sin.wav:3</code>.</p>\n"
"\n"
"<p><strong>Output wav</strong> files will have the same sample rate as specified by your MMFx (this varies by customer). Samples are represented by 16-bit \n"
"integers.</p></li>\n"
"<li><p>Use <strong>sin.wav</strong> as microphone inputs (<code>sin</code>), <strong>refin.wav</strong> as reference signal (<code>refin</code>). Write <code>sout</code> to <strong>sout.wav</strong>.</p>\n"
"\n"
"<pre><code>wav --sin=sin.wav --refin=refin.wav --sout=sout.wav\n"
"</code></pre></li>\n"
"<li><p>Process <strong>sin.wav</strong> and <strong>refin.wav</strong> as <code>sin</code> and <code>reference</code> inputs, respectively. Force the spatial filter to beam index <strong>12</strong>.</p>\n"
"\n"
"<pre><code>wav --sin=sin.wav --refin=refin.wav --sout=sout.wav --beam=12\n"
"</code></pre></li>\n"
"<li><p>Process <strong>sin.wav</strong> and <strong>refin.wav</strong> as <code>sin</code> and <code>reference</code> inputs, respectively. Do additional actions specified in <strong>settings.json</strong>.</p>\n"
"\n"
"<pre><code>wav --sin=sin.wav --refin=refin.wav --sout=sout.wav -j settings.json\n"
"</code></pre></li>\n"
"<li><p>Execute for <strong>profiling</strong>: process 10 seconds of data with forced AEC adaptation (--forceAdaptation)</p>\n"
"\n"
"<pre><code>wav --profile\n"
"</code></pre></li>\n"
"<li><p>Write all sediag labels and help strings, then exit.</p>\n"
"\n"
"<pre><code>wav -u\n"
"</code></pre></li>\n"
"<li><p>Report scratch-memory highwater mark before exiting.</p>\n"
"\n"
"<pre><code>wav -h\n"
"</code></pre></li>\n"
"</ul>\n"
"\n"
"<h2>SUMMARY OF SIGNALS</h2>\n"
"\n"
"<ul>\n"
"<li>The <em>receive-side</em> (Rx) of MMFx receives audio from the far-end </li>\n"
"<li>The <em>send-side</em> (Tx) of MMFx sends audio to the far-end</li>\n"
"</ul>\n"
"\n"
"<p>Rx Signals</p>\n"
"\n"
"<ul>\n"
"<li><em>rin</em> is the receive-side input</li>\n"
"<li><em>rout</em> is the receive-side output, which goes the loudspeaker</li>\n"
"</ul>\n"
"\n"
"<p>Tx Signals</p>\n"
"\n"
"<ul>\n"
"<li><em>sin</em> is the send-side input from the microphones</li>\n"
"<li><em>refin</em> is the reference signal input, typically <em>rout</em> after it has passed through the DAC and ADC</li>\n"
"<li><em>sout</em> is the send-side output, destined for the far-end</li>\n"
"</ul>\n"
"\n"
"<p>For more information on MMFx input and output signals, refer to the MMFx Data Sheet.</p>\n"
"\n"
"<pre><code>\n"
"                                          MMFx\n"
"                                   +------------------+\n"
"                                   |  +------------+  |\n"
"                 +-------+         |  |            |  |\n"
"            <----|       |    rout |  |            |  | rin\n"
"     to          |       |<--------|--|     Rx     |<-|--------\n"
"     loudspeaker |  DAC  |         |  |            |  |\n"
"                 |       |         |  +------|-----+  |\n"
"                 +---|---+         |         |        |\n"
"                     |             |         |        |\n"
"                     |             |         |        |\n"
"                 +-------+         |  +------|-----+  |\n"
"                 |   |   |  refin  |  |            |  |\n"
"                 |   |---|---------|->|            |  |\n"
"                 |       |         |  |     Tx     |--|------>\n"
"            O--->|       |         |  |            |  |  sout\n"
"      from  O--->|       |---------|->|            |  |\n"
"      mics  O--->|       |  sin    |  |            |  |\n"
"            O--->|  ADC  |         |  +------------+  |\n"
"                 +-------+         +------------------+\n"
"</code></pre>\n"
"\n"
"<p>Diagram Source<a href=\"http://buttersquid.ink/?spore=bNobwRALmBcYE4FMDGUA0YAeMDMAOdAnjugO4wCM26AFjAKzoBmSMYABGE4zAAzoA2AeyzQAtOQGCi0PpH4xw-KLABKGADoA7TmH4A3CgF9DqcMt0BLTQh0ZyMAEwA2dBgc4A7IXvQXYAu6+6AgAhhTBAEa8kiLiktJxcgq65nCCAK5ougbQ5MamkKz8VjauPnQOroFOlf4+fgEwfqHhYAhRMjEwiUIJEknQiqlWOvpGJmasiCi2OPj+FLVkuVRgtNBeYMysHFzRusLd-b1H6BDygymsACpYAjl5E4Wwxda2Ptibbo79BD7kABZCIFAcEwrlIvshLFjlJTgMhlMEIwRvdxgVzBAIodXDAgQtoAxIBhMYItEJ0gATADOAAdQgBrBBwHQ5RghfjUhBPTHYu6YeiECh+CAk1iMNIAWy0kosSGprJg7M53IxRRK708VUcDX+m0auU2LQhbQ6smh3VWJxN52SSlY1NR2XRkxeGrK9Fq318v3+RIN5CJxtk7VaFpN1v6tsu9tg1IyWTGuXyrvgyCyInI+rxpBg83WRO2sF2W24nQOMPi+2jiNgABEAIIAYVGDxTz0sbw90Ac-W9ve8MAAnMCKPjg5Dy+HatbZDWrrB1OkeCv7GiZO3UunZoahbklnmaIetixizpGGXzYcxLDpKt57GwA26y31481W6u5h-n5veRan8wqjrkzTgv0oZBBWjhVjaFy1mAS4rjwa7OhuPLql+dhAZgIIAXqwFZmCrQQX404wVGcELghy6rq2vCbhhpTfthf54RQ8wBvMxrgR0pHXjOcKwXa5iIbR648Axn5MVhIHavug65CO-ggkp3GTnxIgCdIFHCawonIXRaEfp20n-F6IK6oKylWWpppQvxMFzpRj76ShSYSehsDTBmOD+tBYDLOQSnrOQ8xFuw56Xl0YibNaogis5Ik0QZ4mSSZmrQACRLellCkcbhRHlhBV6aY5ZyJXpyVuTkHnGViOICplvzVmKsAALJtQAYvybIclyhgALpAA\">*</a></p>\n"
"\n"
"<h2>SEDIAG INTERFACE</h2>\n"
"\n"
"<p>The SEDIAG interface is a method of setting/getting MMFx internal variables. Pointer addresses are indexed by\n"
"text labels such as \"<code>mmfx_sin_power_per_mic</code>\".</p>\n"
"\n"
"<p>Print a list of SEDIAG labels like this:\n"
"<code><pre>\n"
"<b> ./wav --dump-diag </b>\n"
"</pre></code></p>\n"
"\n"
"<p>For more information on the SEDIAG interface, refer to the MMFx Data Sheet.</p>\n"
"\n"
"<h3>Setting SEDIAG Parameters</h3>\n"
"\n"
"<p>The wavtool can read a JSON configuration file which specifies writable SEDIAG parameters to set at specific sample blocks\n"
"(typically, each sample block is 10 msec). For example, say you want to process the microphone recordings <code>mics.wav</code>\n"
"and at sample block 10:</p>\n"
"\n"
"<ul>\n"
"<li>disable noise reduction (<code>mmfx_senr_output_selector</code> = <code>SENR_DISABLE_NOISE_REDUCTION</code>)</li>\n"
"<li>set the reference preprocessor HPF cutoff to 100.0 Hz (<code>refp_num_delay_samples</code> = 100)</li>\n"
"</ul>\n"
"\n"
"<p>Create a file called <code>example.json</code>:</p>\n"
"\n"
"<pre><code>\n"
"{\n"
"    \"set\" : \n"
"    [\n"
"        {\n"
"            \"comment\"  : \"disable noise reduction at block 0\",\n"
"            \"at_block\" : 10,\n"
"            \"diags\"    : \n"
"            {\n"
"                \"mmfx_senr_output_selector\" :\"SENR_DISABLE_NOISE_REDUCTION\",\n"
"                \"refp_hpf_cutoff_hz\" : 100.0\n"
"            }\n"
"        }\n"
"    ]\n"
"}\n"
"</code></pre>\n"
"\n"
"<p>Then execute wavtool with the <code>--diag-settings</code> option:</p>\n"
"\n"
"<pre><code>\n"
"<b>./wav --sin=mics.wav --diag-settings=example.json --sout=sout.wav</b>\n"
"</code></pre>\n"
"\n"
"<h3>Logging SEDIAG Parameters</h3>\n"
"\n"
"<p>The same JSON configuration file can also be used to log the value of SEDIAG parameters to a csv file.\n"
"For example, to log the values of <code>aecmon_erle_deep_db_per_mic</code> and <code>aecmon_refin_power</code> to\n"
"csv files in the ./dump directory, use the JSON:</p>\n"
"\n"
"<pre><code>\n"
"{\n"
"    \"dump_filename\" : \"dump/\",\n"
"    \"dump\"          :\n"
"    [\n"
"        {\n"
"            \"at_block\" : \"*\",\n"
"            \"diags\"    : [\n"
"                \"aecmon_erle_deep_db_per_mic\",\n"
"                \"aecmon_refin_power\"\n"
"            ]\n"
"        }\n"
"    ]\n"
"}\n"
"</code></pre>\n"
"\n"
"<p>You can also log all SEDIAG variables:</p>\n"
"\n"
"<pre><code>\n"
"{\n"
"    \"comment\": \"dump ALL sediag parameters at every block\",        \n"
"    \"dump_filename\" : \"dump/\",\n"
"    \"dump\"          :\n"
"    [\n"
"        {\n"
"            \"at_block\" : \"*\",\n"
"            \"diags\"    : [\"*\"]\n"
"        }\n"
"    ]\n"
"}\n"
"</code></pre>\n"
"\n"
"<p>The csv log files will be written to the specified directory and are named according to the SEDIAG label, e.g. <code>dump/aecmon_refin_power.csv</code>.</p>\n"
"\n"
"<p>You can combine both setting and logging SEDIAG parameters in the same JSON file:</p>\n"
"\n"
"<pre><code>\n"
"{\n"
"    \"set\" : \n"
"    [\n"
"        {\n"
"            \"comment\"  : \"disable noise reduction at block 0\",\n"
"            \"at_block\" : 0,\n"
"            \"diags\"    : \n"
"            {\n"
"                \"mmfx_senr_output_selector\" :\"SENR_DISABLE_NOISE_REDUCTION\",\n"
"                \"refp_num_delay_samples\" : 100\n"
"            }\n"
"        }\n"
"    ],\n"
"    \"comment\": \"dump ALL sediag parameters at every block\",        \n"
"    \"dump_filename\" : \"dump/\",\n"
"    \"dump\"          :\n"
"    [\n"
"        {\n"
"            \"at_block\" : \"*\",\n"
"            \"diags\"    : [\"*\"]\n"
"        }\n"
"    ]\n"
"}\n"
"</code></pre>\n"
"\n"
"<h2>PROFILING CPU USAGE</h2>\n"
"\n"
"<p>You can use wavtool and the <code>--profile</code> option to estimate the CPU usage of MMFx.\n"
"The profile option simulates processing 10 seconds of data; in order to fully load the CPU,\n"
"the adaptive echo cancellers are forced to adapt as often as possible (<code>--forceAdaptation</code>).</p>\n"
"\n"
"<p>Use the profile option in conjunction with the <code>time</code> command to estimate what percentage of the CPU\n"
"is consumed by MMFx. For example:</p>\n"
"\n"
"<p><code><pre>\n"
"$ <b>time ./wav -p</b>\n"
"processing (1000) blocks\n"
"numSkipSamples=0\n"
"project ID:  brussels-demo|local_build\n"
"done\n"
"<em>real 0m1.001s   <b>&lt;- wavtool processed 10 seconds of data in 1 second</b></em>\n"
"user 0m0.835s\n"
"sys 0m0.031s\n"
"</pre></code></p>\n"
"\n"
"<p>Given that wavtool took 1.0 seconds of clock time to process 10 seconds of data, you can infer that MMFx, when executing as part of a real-time system, will consume approximately 10% of the CPU cycles.</p>\n"
"\n"
"<p>You can also specify the number of sample blocks to process (1 sample block is typically 10 msec):</p>\n"
"\n"
"<p><code><pre>\n"
"$ <b>time ./wav --profile=10000</b>\n"
"processing (10000) blocks\n"
"numSkipSamples=0\n"
"project ID:  brussels-demo|local_build\n"
"done\n"
"<em>real 0m9.269s  <b>&lt;-- wav processed 100 seconds of data in 9.2 seconds</b></em>\n"
"user 0m8.401s\n"
"sys 0m0.012s\n"
"</pre></code></p>\n"
"\n"
"<h2>COPYRIGHT</h2>\n"
"\n"
"<p>Copyright (C) 2016 Signal Essence</p>\n"
"\n"
""; //final line
